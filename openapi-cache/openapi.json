{
  "components": {
    "schemas": {
      "AssetUploadResponseSchema.765868d": {
        "description": "Response schema for successful asset upload.",
        "properties": {
          "filename": {
            "description": "Name of the uploaded file",
            "examples": [
              "firmware.bin"
            ],
            "title": "Filename",
            "type": "string"
          },
          "size": {
            "description": "File size in bytes",
            "examples": [
              1048576
            ],
            "title": "Size",
            "type": "integer"
          },
          "uploaded_at": {
            "description": "ISO 8601 timestamp when upload was processed",
            "examples": [
              "2026-01-09T14:30:05.123456+00:00"
            ],
            "title": "Uploaded At",
            "type": "string"
          }
        },
        "required": [
          "filename",
          "size",
          "uploaded_at"
        ],
        "title": "AssetUploadResponseSchema",
        "type": "object"
      },
      "DashboardResponseSchema.57872a8": {
        "description": "Response schema for devices dashboard.",
        "properties": {
          "counts": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Count of devices in each category",
            "examples": [
              {
                "critical": 1,
                "healthy": 10,
                "warning": 2
              }
            ],
            "title": "Counts",
            "type": "object"
          },
          "critical": {
            "description": "Devices in critical state (TIMEOUT, over critical threshold)",
            "items": {
              "$ref": "#/components/schemas/DashboardResponseSchema.57872a8.DashboardDeviceSchema"
            },
            "title": "Critical",
            "type": "array"
          },
          "healthy": {
            "description": "Devices in healthy state (OK, QUEUED, PENDING)",
            "items": {
              "$ref": "#/components/schemas/DashboardResponseSchema.57872a8.DashboardDeviceSchema"
            },
            "title": "Healthy",
            "type": "array"
          },
          "warning": {
            "description": "Devices in warning state (TIMEOUT, under critical threshold)",
            "items": {
              "$ref": "#/components/schemas/DashboardResponseSchema.57872a8.DashboardDeviceSchema"
            },
            "title": "Warning",
            "type": "array"
          }
        },
        "required": [
          "healthy",
          "warning",
          "critical",
          "counts"
        ],
        "title": "DashboardResponseSchema",
        "type": "object"
      },
      "DashboardResponseSchema.57872a8.DashboardDeviceSchema": {
        "description": "Device summary for dashboard display.",
        "properties": {
          "days_since_rotation": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Days since last completed rotation",
            "title": "Days Since Rotation"
          },
          "device_model_code": {
            "description": "Device model code",
            "title": "Device Model Code",
            "type": "string"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device name from config",
            "title": "Device Name"
          },
          "id": {
            "description": "Device ID",
            "title": "Id",
            "type": "integer"
          },
          "key": {
            "description": "Unique 8-character device key",
            "title": "Key",
            "type": "string"
          },
          "last_rotation_completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "When last rotation completed",
            "title": "Last Rotation Completed At"
          },
          "rotation_state": {
            "description": "Current rotation state",
            "title": "Rotation State",
            "type": "string"
          }
        },
        "required": [
          "id",
          "key",
          "device_model_code",
          "rotation_state"
        ],
        "title": "DashboardDeviceSchema",
        "type": "object"
      },
      "DeviceCreateSchema.d48fbce": {
        "description": "Request schema for creating a device.",
        "properties": {
          "config": {
            "description": "Device configuration as JSON string",
            "title": "Config",
            "type": "string"
          },
          "device_model_id": {
            "description": "ID of the device model this device belongs to",
            "title": "Device Model Id",
            "type": "integer"
          }
        },
        "required": [
          "device_model_id",
          "config"
        ],
        "title": "DeviceCreateSchema",
        "type": "object"
      },
      "DeviceListResponseSchema.d48fbce": {
        "description": "Response schema for device list.",
        "properties": {
          "count": {
            "description": "Total count of devices",
            "title": "Count",
            "type": "integer"
          },
          "devices": {
            "items": {
              "$ref": "#/components/schemas/DeviceListResponseSchema.d48fbce.DeviceSummarySchema"
            },
            "title": "Devices",
            "type": "array"
          }
        },
        "required": [
          "devices",
          "count"
        ],
        "title": "DeviceListResponseSchema",
        "type": "object"
      },
      "DeviceListResponseSchema.d48fbce.DeviceSummarySchema": {
        "description": "Summary schema for device list responses.",
        "properties": {
          "device_entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device entity ID from config",
            "title": "Device Entity Id"
          },
          "device_model_id": {
            "description": "Device model ID",
            "title": "Device Model Id",
            "type": "integer"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device name from config",
            "title": "Device Name"
          },
          "enable_ota": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "OTA enabled flag from config",
            "title": "Enable Ota"
          },
          "id": {
            "description": "Device ID",
            "title": "Id",
            "type": "integer"
          },
          "key": {
            "description": "Unique 8-character device key",
            "title": "Key",
            "type": "string"
          },
          "rotation_state": {
            "description": "Current rotation state",
            "title": "Rotation State",
            "type": "string"
          },
          "secret_created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "When current secret was created",
            "title": "Secret Created At"
          }
        },
        "required": [
          "id",
          "key",
          "device_model_id",
          "rotation_state"
        ],
        "title": "DeviceSummarySchema",
        "type": "object"
      },
      "DeviceModelCreateSchema.349be3d": {
        "description": "Request schema for creating a device model.",
        "properties": {
          "code": {
            "description": "Unique model code (lowercase alphanumeric with underscores)",
            "examples": [
              "thermostat",
              "motion_sensor"
            ],
            "maxLength": 50,
            "minLength": 1,
            "title": "Code",
            "type": "string"
          },
          "config_schema": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "JSON schema for validating device configurations (optional)",
            "title": "Config Schema"
          },
          "name": {
            "description": "Human-readable model name",
            "examples": [
              "Smart Thermostat",
              "Motion Sensor"
            ],
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "code",
          "name"
        ],
        "title": "DeviceModelCreateSchema",
        "type": "object"
      },
      "DeviceModelFirmwareResponseSchema.349be3d": {
        "description": "Response schema for firmware upload.",
        "properties": {
          "code": {
            "description": "Model code",
            "title": "Code",
            "type": "string"
          },
          "firmware_version": {
            "description": "Extracted firmware version",
            "title": "Firmware Version",
            "type": "string"
          },
          "id": {
            "description": "Device model ID",
            "title": "Id",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "code",
          "firmware_version"
        ],
        "title": "DeviceModelFirmwareResponseSchema",
        "type": "object"
      },
      "DeviceModelListResponseSchema.349be3d": {
        "description": "Response schema for device model list.",
        "properties": {
          "count": {
            "description": "Total count of device models",
            "title": "Count",
            "type": "integer"
          },
          "device_models": {
            "items": {
              "$ref": "#/components/schemas/DeviceModelListResponseSchema.349be3d.DeviceModelSummarySchema"
            },
            "title": "Device Models",
            "type": "array"
          }
        },
        "required": [
          "device_models",
          "count"
        ],
        "title": "DeviceModelListResponseSchema",
        "type": "object"
      },
      "DeviceModelListResponseSchema.349be3d.DeviceModelSummarySchema": {
        "description": "Summary schema for device model list responses.",
        "properties": {
          "code": {
            "description": "Unique model code",
            "title": "Code",
            "type": "string"
          },
          "device_count": {
            "description": "Number of devices using this model",
            "title": "Device Count",
            "type": "integer"
          },
          "firmware_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Firmware version if uploaded",
            "title": "Firmware Version"
          },
          "has_config_schema": {
            "description": "Whether model has a config schema",
            "title": "Has Config Schema",
            "type": "boolean"
          },
          "id": {
            "description": "Device model ID",
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "description": "Human-readable model name",
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "code",
          "name",
          "has_config_schema",
          "device_count"
        ],
        "title": "DeviceModelSummarySchema",
        "type": "object"
      },
      "DeviceModelResponseSchema.349be3d": {
        "description": "Response schema for device model details.",
        "properties": {
          "code": {
            "description": "Unique model code",
            "title": "Code",
            "type": "string"
          },
          "config_schema": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "JSON schema for config validation",
            "title": "Config Schema"
          },
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "device_count": {
            "description": "Number of devices using this model",
            "title": "Device Count",
            "type": "integer"
          },
          "firmware_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Firmware version if uploaded",
            "title": "Firmware Version"
          },
          "has_config_schema": {
            "description": "Whether model has a config schema",
            "title": "Has Config Schema",
            "type": "boolean"
          },
          "id": {
            "description": "Device model ID",
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "description": "Human-readable model name",
            "title": "Name",
            "type": "string"
          },
          "updated_at": {
            "description": "Last update timestamp",
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "code",
          "name",
          "has_config_schema",
          "device_count",
          "created_at",
          "updated_at"
        ],
        "title": "DeviceModelResponseSchema",
        "type": "object"
      },
      "DeviceModelUpdateSchema.349be3d": {
        "description": "Request schema for updating a device model.",
        "properties": {
          "config_schema": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "JSON schema for validating device configurations",
            "title": "Config Schema"
          },
          "name": {
            "anyOf": [
              {
                "maxLength": 255,
                "minLength": 1,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Human-readable model name",
            "title": "Name"
          }
        },
        "title": "DeviceModelUpdateSchema",
        "type": "object"
      },
      "DeviceResponseSchema.d48fbce": {
        "description": "Response schema for device details.",
        "properties": {
          "client_id": {
            "description": "Keycloak client ID",
            "title": "Client Id",
            "type": "string"
          },
          "config": {
            "additionalProperties": true,
            "description": "Device configuration",
            "title": "Config",
            "type": "object"
          },
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "device_entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device entity ID from config",
            "title": "Device Entity Id"
          },
          "device_model": {
            "$ref": "#/components/schemas/DeviceResponseSchema.d48fbce.DeviceModelInfoSchema",
            "description": "Device model details"
          },
          "device_model_id": {
            "description": "Device model ID",
            "title": "Device Model Id",
            "type": "integer"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device name from config",
            "title": "Device Name"
          },
          "enable_ota": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "OTA enabled flag from config",
            "title": "Enable Ota"
          },
          "id": {
            "description": "Device ID",
            "title": "Id",
            "type": "integer"
          },
          "key": {
            "description": "Unique 8-character device key",
            "title": "Key",
            "type": "string"
          },
          "last_rotation_attempt_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "When last rotation was attempted",
            "title": "Last Rotation Attempt At"
          },
          "last_rotation_completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "When last rotation completed",
            "title": "Last Rotation Completed At"
          },
          "rotation_state": {
            "description": "Current rotation state",
            "title": "Rotation State",
            "type": "string"
          },
          "secret_created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "When current secret was created",
            "title": "Secret Created At"
          },
          "updated_at": {
            "description": "Last update timestamp",
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "key",
          "device_model_id",
          "device_model",
          "config",
          "rotation_state",
          "client_id",
          "created_at",
          "updated_at"
        ],
        "title": "DeviceResponseSchema",
        "type": "object"
      },
      "DeviceResponseSchema.d48fbce.DeviceModelInfoSchema": {
        "description": "Embedded device model info in device responses.",
        "properties": {
          "code": {
            "description": "Device model code",
            "title": "Code",
            "type": "string"
          },
          "firmware_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Firmware version if uploaded",
            "title": "Firmware Version"
          },
          "id": {
            "description": "Device model ID",
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "description": "Device model name",
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "code",
          "name"
        ],
        "title": "DeviceModelInfoSchema",
        "type": "object"
      },
      "DeviceRotateResponseSchema.d48fbce": {
        "description": "Response schema for device rotation trigger.",
        "properties": {
          "status": {
            "description": "Rotation status: 'queued' or 'already_pending'",
            "examples": [
              "queued",
              "already_pending"
            ],
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "title": "DeviceRotateResponseSchema",
        "type": "object"
      },
      "DeviceUpdateSchema.d48fbce": {
        "description": "Request schema for updating a device.",
        "properties": {
          "config": {
            "description": "Device configuration as JSON string",
            "title": "Config",
            "type": "string"
          }
        },
        "required": [
          "config"
        ],
        "title": "DeviceUpdateSchema",
        "type": "object"
      },
      "ErrorResponseSchema.8c5cd6b": {
        "description": "Standard error response.",
        "properties": {
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Error code",
            "title": "Code"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Request correlation ID",
            "title": "Correlationid"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Additional error details",
            "title": "Details"
          },
          "error": {
            "description": "Error message",
            "title": "Error",
            "type": "string"
          }
        },
        "required": [
          "error"
        ],
        "title": "ErrorResponseSchema",
        "type": "object"
      },
      "ForceErrorQuerySchema.355d24f": {
        "description": "Query parameters for force-error endpoint.",
        "properties": {
          "status": {
            "description": "HTTP status code to return on next /api/auth/self request",
            "title": "Status",
            "type": "integer"
          }
        },
        "required": [
          "status"
        ],
        "title": "ForceErrorQuerySchema",
        "type": "object"
      },
      "LvglImageQuerySchema.bf1914b": {
        "additionalProperties": false,
        "description": "Query parameters for LVGL image proxy endpoint.",
        "properties": {
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Comma-separated list of header names to forward from the request",
            "examples": [
              "Authorization,X-API-Key"
            ],
            "title": "Headers"
          },
          "height": {
            "anyOf": [
              {
                "exclusiveMinimum": 0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Target height for resizing (downscale only, maintains aspect ratio)",
            "examples": [
              240
            ],
            "title": "Height"
          },
          "url": {
            "description": "URL of the image to fetch and convert",
            "examples": [
              "https://example.com/image.png"
            ],
            "format": "uri",
            "maxLength": 2083,
            "minLength": 1,
            "title": "Url",
            "type": "string"
          },
          "width": {
            "anyOf": [
              {
                "exclusiveMinimum": 0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Target width for resizing (downscale only, maintains aspect ratio)",
            "examples": [
              240
            ],
            "title": "Width"
          }
        },
        "required": [
          "url"
        ],
        "title": "LvglImageQuerySchema",
        "type": "object"
      },
      "RotationStatusSchema.57872a8": {
        "description": "Response schema for rotation status.",
        "properties": {
          "counts_by_state": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Count of devices in each rotation state",
            "examples": [
              {
                "OK": 10,
                "PENDING": 1,
                "QUEUED": 2,
                "TIMEOUT": 0
              }
            ],
            "title": "Counts By State",
            "type": "object"
          },
          "last_rotation_completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Timestamp of most recent rotation completion across all devices",
            "title": "Last Rotation Completed At"
          },
          "next_scheduled_rotation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Next scheduled rotation time based on CRON expression",
            "title": "Next Scheduled Rotation"
          },
          "pending_device_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "ID of device currently being rotated (PENDING state)",
            "title": "Pending Device Id"
          }
        },
        "required": [
          "counts_by_state"
        ],
        "title": "RotationStatusSchema",
        "type": "object"
      },
      "RotationTriggerResponseSchema.57872a8": {
        "description": "Response schema for manual rotation trigger.",
        "properties": {
          "queued_count": {
            "description": "Number of devices queued for rotation",
            "title": "Queued Count",
            "type": "integer"
          }
        },
        "required": [
          "queued_count"
        ],
        "title": "RotationTriggerResponseSchema",
        "type": "object"
      },
      "TestSessionCreateSchema.355d24f": {
        "description": "Request schema for creating a test authentication session.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject identifier (sub claim)",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject"
        ],
        "title": "TestSessionCreateSchema",
        "type": "object"
      },
      "TestSessionResponseSchema.355d24f": {
        "description": "Response schema for test session creation.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject identifier",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject",
          "roles"
        ],
        "title": "TestSessionResponseSchema",
        "type": "object"
      },
      "UserInfoResponseSchema.a535b8c": {
        "description": "Response schema for current user information.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject (sub claim from JWT)",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject",
          "email",
          "name",
          "roles"
        ],
        "title": "UserInfoResponseSchema",
        "type": "object"
      },
      "ValidationError.6a07bef": {
        "description": "Model of a validation error response.",
        "items": {
          "$ref": "#/components/schemas/ValidationError.6a07bef.ValidationErrorElement"
        },
        "title": "ValidationError",
        "type": "array"
      },
      "ValidationError.6a07bef.ValidationErrorElement": {
        "description": "Model of a validation error response element.",
        "properties": {
          "ctx": {
            "title": "Error context",
            "type": "object"
          },
          "loc": {
            "items": {
              "type": "string"
            },
            "title": "Missing field name",
            "type": "array"
          },
          "msg": {
            "title": "Error message",
            "type": "string"
          },
          "type": {
            "title": "Error type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationErrorElement",
        "type": "object"
      }
    }
  },
  "info": {
    "description": "REST API for managing ESP32 IoT device configurations",
    "title": "IoT Support API",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/assets": {
      "post": {
        "description": "Expects multipart/form-data with: - file: Binary file data - timestamp: ISO 8601 timestamp string - signature: Base64-encoded RSA signature of timestamp\n\nReturns:     200: Upload successful with file metadata     400: Validation error (missing fields, invalid filename, timestamp, or signature)     500: Server error (filesystem write failure)",
        "operationId": "post__api_assets",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetUploadResponseSchema.765868d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Internal Server Error"
          }
        },
        "summary": "Upload asset file with cryptographic signature verification.",
        "tags": []
      }
    },
    "/api/assets/{filename}": {
      "get": {
        "description": "This endpoint serves binary firmware files directly to devices. Validates filename to prevent path traversal attacks.",
        "operationId": "get__api_assets_{filename}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "Serve raw asset file for ESP32 device consumption.",
        "tags": []
      }
    },
    "/api/auth/callback": {
      "get": {
        "description": "Exchanges authorization code for tokens and sets access token cookie.\n\nQuery Parameters:     code: Authorization code from OIDC provider     state: CSRF token from OIDC provider\n\nReturns:     302: Redirect to original redirect URL with access token cookie set     400: Invalid or missing callback parameters     401: Token exchange failed",
        "operationId": "get__api_auth_callback",
        "parameters": [],
        "responses": {},
        "summary": "Handle OIDC callback after user authorization.",
        "tags": []
      }
    },
    "/api/auth/login": {
      "get": {
        "description": "Generates authorization URL and redirects to OIDC provider. Stores PKCE state in signed cookie.\n\nQuery Parameters:     redirect: URL to redirect to after successful login (required)\n\nReturns:     302: Redirect to OIDC provider authorization endpoint     400: Missing or invalid redirect parameter",
        "operationId": "get__api_auth_login",
        "parameters": [],
        "responses": {},
        "summary": "Initiate OIDC login flow with PKCE.",
        "tags": []
      }
    },
    "/api/auth/logout": {
      "get": {
        "description": "Clears access token cookie and redirects to OIDC provider's logout endpoint to terminate the session at the IdP level.\n\nQuery Parameters:     redirect: URL to redirect to after logout (default: /)\n\nReturns:     302: Redirect to OIDC logout endpoint (or direct redirect if OIDC disabled)",
        "operationId": "get__api_auth_logout",
        "parameters": [],
        "responses": {},
        "summary": "Log out current user.",
        "tags": []
      }
    },
    "/api/auth/self": {
      "get": {
        "description": "Returns user information from the validated JWT token in the cookie.\n\nThis endpoint is marked @public because it handles authentication explicitly - it returns 401 if not authenticated rather than relying on the before_request hook.\n\nReturns:     200: User information from validated token     401: No valid token provided or token invalid",
        "operationId": "get__api_auth_self",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfoResponseSchema.a535b8c"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Get current authenticated user information.",
        "tags": []
      }
    },
    "/api/device-models": {
      "get": {
        "description": "",
        "operationId": "get__api_device-models",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceModelListResponseSchema.349be3d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "List all device models.",
        "tags": []
      },
      "post": {
        "description": "",
        "operationId": "post__api_device-models",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceModelCreateSchema.349be3d"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceModelResponseSchema.349be3d"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Conflict"
          }
        },
        "summary": "Create a new device model.",
        "tags": []
      }
    },
    "/api/device-models/{model_id}": {
      "delete": {
        "description": "",
        "operationId": "delete__api_device-models_{model_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "model_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Conflict"
          }
        },
        "summary": "Delete a device model.",
        "tags": []
      },
      "get": {
        "description": "",
        "operationId": "get__api_device-models_{model_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "model_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceModelResponseSchema.349be3d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Get a device model by ID.",
        "tags": []
      },
      "put": {
        "description": "",
        "operationId": "put__api_device-models_{model_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "model_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceModelUpdateSchema.349be3d"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceModelResponseSchema.349be3d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Update a device model.",
        "tags": []
      }
    },
    "/api/device-models/{model_id}/firmware": {
      "get": {
        "description": "Returns raw binary firmware with appropriate content type.",
        "operationId": "get__api_device-models_{model_id}_firmware",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "model_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {},
        "summary": "Download firmware binary for a device model.",
        "tags": []
      },
      "post": {
        "description": "Expects raw binary content in request body or multipart file upload. The firmware must be a valid ESP32 binary with AppInfo header.",
        "operationId": "post__api_device-models_{model_id}_firmware",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "model_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceModelFirmwareResponseSchema.349be3d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Upload firmware binary for a device model.",
        "tags": []
      }
    },
    "/api/devices": {
      "get": {
        "description": "",
        "operationId": "get__api_devices",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceListResponseSchema.d48fbce"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "List all devices with optional filtering.",
        "tags": []
      },
      "post": {
        "description": "",
        "operationId": "post__api_devices",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceCreateSchema.d48fbce"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceResponseSchema.d48fbce"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          },
          "502": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Gateway"
          }
        },
        "summary": "Create a new device with Keycloak client.",
        "tags": []
      }
    },
    "/api/devices/{device_id}": {
      "delete": {
        "description": "",
        "operationId": "delete__api_devices_{device_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "device_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          },
          "502": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Gateway"
          }
        },
        "summary": "Delete a device and its Keycloak client.",
        "tags": []
      },
      "get": {
        "description": "",
        "operationId": "get__api_devices_{device_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "device_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceResponseSchema.d48fbce"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Get a device by ID.",
        "tags": []
      },
      "put": {
        "description": "",
        "operationId": "put__api_devices_{device_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "device_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceUpdateSchema.d48fbce"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceResponseSchema.d48fbce"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Update a device's configuration.",
        "tags": []
      }
    },
    "/api/devices/{device_id}/provisioning": {
      "get": {
        "description": "Returns the provisioning package as a downloadable .bin file containing JSON configuration for the device.",
        "operationId": "get__api_devices_{device_id}_provisioning",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "device_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {},
        "summary": "Download provisioning package for a device.",
        "tags": []
      }
    },
    "/api/devices/{device_id}/rotate": {
      "post": {
        "description": "Queues the device for credential rotation. If already pending, returns the current status without changing state.",
        "operationId": "post__api_devices_{device_id}_rotate",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "device_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceRotateResponseSchema.d48fbce"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Trigger rotation for a single device.",
        "tags": []
      }
    },
    "/api/health": {
      "get": {
        "description": "Returns 200 when database is accessible. Returns 503 when database is not accessible.",
        "operationId": "get__api_health",
        "parameters": [],
        "responses": {},
        "summary": "Health check endpoint for Kubernetes probes.",
        "tags": []
      }
    },
    "/api/images/lvgl": {
      "get": {
        "description": "Query Parameters:     url: URL of the image to fetch     headers: Comma-separated list of header names to forward     width: Target width for resizing (optional, downscale only)     height: Target height for resizing (optional, downscale only)\n\nReturns:     Binary LVGL image data with Cache-Control: no-store header",
        "operationId": "get__api_images_lvgl",
        "parameters": [
          {
            "description": "URL of the image to fetch and convert",
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "description": "URL of the image to fetch and convert",
              "examples": [
                "https://example.com/image.png"
              ],
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "title": "Url",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated list of header names to forward from the request",
            "in": "query",
            "name": "headers",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Comma-separated list of header names to forward from the request",
              "examples": [
                "Authorization,X-API-Key"
              ],
              "title": "Headers"
            }
          },
          {
            "description": "Target width for resizing (downscale only, maintains aspect ratio)",
            "in": "query",
            "name": "width",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "exclusiveMinimum": 0,
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Target width for resizing (downscale only, maintains aspect ratio)",
              "examples": [
                240
              ],
              "title": "Width"
            }
          },
          {
            "description": "Target height for resizing (downscale only, maintains aspect ratio)",
            "in": "query",
            "name": "height",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "exclusiveMinimum": 0,
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Target height for resizing (downscale only, maintains aspect ratio)",
              "examples": [
                240
              ],
              "title": "Height"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "502": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Gateway"
          }
        },
        "summary": "Fetch and convert an image to LVGL binary format.",
        "tags": []
      }
    },
    "/api/rotation/dashboard": {
      "get": {
        "description": "Returns devices categorized as: - healthy: OK, QUEUED, or PENDING states - warning: TIMEOUT state, under critical threshold - critical: TIMEOUT state, at or over critical threshold",
        "operationId": "get__api_rotation_dashboard",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardResponseSchema.57872a8"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Get device dashboard grouped by health status.",
        "tags": []
      }
    },
    "/api/rotation/status": {
      "get": {
        "description": "Returns counts by state, currently pending device, and last completion time.",
        "operationId": "get__api_rotation_status",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RotationStatusSchema.57872a8"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Get current rotation status across all devices.",
        "tags": []
      }
    },
    "/api/rotation/trigger": {
      "post": {
        "description": "Queues all devices with OK state for rotation. The rotation job will process them one at a time.",
        "operationId": "post__api_rotation_trigger",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RotationTriggerResponseSchema.57872a8"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Internal Server Error"
          }
        },
        "summary": "Manually trigger fleet-wide rotation.",
        "tags": []
      }
    },
    "/api/testing/auth/clear": {
      "post": {
        "description": "Returns:     204: Session cleared successfully with cookie invalidated",
        "operationId": "post__api_testing_auth_clear",
        "parameters": [],
        "responses": {},
        "summary": "Clear the current test session for test isolation.",
        "tags": []
      }
    },
    "/api/testing/auth/force-error": {
      "post": {
        "description": "This is a single-shot error - subsequent requests will behave normally.\n\nQuery Parameters:     status: HTTP status code to return (e.g., 500, 503)\n\nReturns:     204: Error configured successfully",
        "operationId": "post__api_testing_auth_force-error",
        "parameters": [
          {
            "description": "HTTP status code to return on next /api/auth/self request",
            "in": "query",
            "name": "status",
            "required": true,
            "schema": {
              "description": "HTTP status code to return on next /api/auth/self request",
              "title": "Status",
              "type": "integer"
            }
          }
        ],
        "responses": {},
        "summary": "Configure /api/auth/self to return an error on the next request.",
        "tags": []
      }
    },
    "/api/testing/auth/session": {
      "post": {
        "description": "This endpoint creates a test session with controllable user fields and sets the same session cookie that the real OIDC callback would set.\n\nRequest Body:     subject: User subject identifier (required)     name: User display name (optional)     email: User email address (optional)     roles: User roles (optional, defaults to empty list)\n\nReturns:     201: Session created successfully with session cookie set",
        "operationId": "post__api_testing_auth_session",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestSessionCreateSchema.355d24f"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestSessionResponseSchema.355d24f"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Create an authenticated test session, bypassing the real OIDC flow.",
        "tags": []
      }
    },
    "/iot/config": {
      "get": {
        "description": "This endpoint is called by ESP32 devices to fetch their configuration. If the device is in PENDING rotation state and the token was issued after the rotation attempt, the rotation is marked as complete and the next queued device is triggered.\n\nReturns raw JSON content without wrapping.",
        "operationId": "get__iot_config",
        "parameters": [],
        "responses": {},
        "summary": "Get raw JSON configuration for the device.",
        "tags": []
      }
    },
    "/iot/firmware": {
      "get": {
        "description": "Returns raw binary firmware with appropriate content type.",
        "operationId": "get__iot_firmware",
        "parameters": [],
        "responses": {},
        "summary": "Download firmware binary for the device's model.",
        "tags": []
      }
    },
    "/iot/firmware-version": {
      "get": {
        "description": "This lightweight endpoint allows devices to check if new firmware is available without downloading the binary. Devices can poll this periodically and only download firmware when the version changes.\n\nReturns JSON with the firmware version string.",
        "operationId": "get__iot_firmware-version",
        "parameters": [],
        "responses": {},
        "summary": "Get the current firmware version for the device's model.",
        "tags": []
      }
    },
    "/iot/provisioning": {
      "get": {
        "description": "This endpoint is called by devices during the rotation process. It regenerates the client secret in Keycloak and returns the new provisioning package.\n\nThis is different from admin provisioning download - it generates a NEW secret rather than returning the current one.",
        "operationId": "get__iot_provisioning",
        "parameters": [],
        "responses": {},
        "summary": "Get new provisioning data during rotation.",
        "tags": []
      }
    },
    "/metrics": {
      "get": {
        "description": "Returns:     Response with metrics data in Prometheus exposition format",
        "operationId": "get__metrics",
        "parameters": [],
        "responses": {},
        "summary": "Return metrics in Prometheus text format.",
        "tags": []
      }
    }
  },
  "security": [],
  "tags": []
}