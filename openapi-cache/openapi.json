{
  "components": {
    "schemas": {
      "AssetUploadResponseSchema.765868d": {
        "description": "Response schema for successful asset upload.",
        "properties": {
          "filename": {
            "description": "Name of the uploaded file",
            "examples": [
              "firmware.bin"
            ],
            "title": "Filename",
            "type": "string"
          },
          "size": {
            "description": "File size in bytes",
            "examples": [
              1048576
            ],
            "title": "Size",
            "type": "integer"
          },
          "uploaded_at": {
            "description": "ISO 8601 timestamp when upload was processed",
            "examples": [
              "2026-01-09T14:30:05.123456+00:00"
            ],
            "title": "Uploaded At",
            "type": "string"
          }
        },
        "required": [
          "filename",
          "size",
          "uploaded_at"
        ],
        "title": "AssetUploadResponseSchema",
        "type": "object"
      },
      "ConfigCreateRequestSchema.6be28b6": {
        "description": "Request for POST /api/configs (create new config).",
        "properties": {
          "content": {
            "description": "JSON configuration content as string (stored verbatim)",
            "title": "Content",
            "type": "string"
          },
          "mac_address": {
            "description": "Device MAC address (colon-separated)",
            "title": "Mac Address",
            "type": "string"
          }
        },
        "required": [
          "mac_address",
          "content"
        ],
        "title": "ConfigCreateRequestSchema",
        "type": "object"
      },
      "ConfigListResponseSchema.6be28b6": {
        "description": "Response for list endpoint.",
        "properties": {
          "configs": {
            "items": {
              "$ref": "#/components/schemas/ConfigListResponseSchema.6be28b6.ConfigSummarySchema"
            },
            "title": "Configs",
            "type": "array"
          },
          "count": {
            "title": "Count",
            "type": "integer"
          }
        },
        "required": [
          "configs",
          "count"
        ],
        "title": "ConfigListResponseSchema",
        "type": "object"
      },
      "ConfigListResponseSchema.6be28b6.ConfigSummarySchema": {
        "description": "Summary for list endpoint.",
        "properties": {
          "device_entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device entity ID",
            "title": "Device Entity Id"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device name from config",
            "title": "Device Name"
          },
          "enable_ota": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "OTA update enabled",
            "title": "Enable Ota"
          },
          "id": {
            "description": "Config surrogate ID",
            "title": "Id",
            "type": "integer"
          },
          "mac_address": {
            "description": "Device MAC address (colon-separated)",
            "title": "Mac Address",
            "type": "string"
          }
        },
        "required": [
          "id",
          "mac_address"
        ],
        "title": "ConfigSummarySchema",
        "type": "object"
      },
      "ConfigResponseSchema.6be28b6": {
        "description": "Response for get/create/update endpoints.",
        "properties": {
          "content": {
            "additionalProperties": true,
            "description": "JSON configuration content",
            "title": "Content",
            "type": "object"
          },
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "device_entity_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device entity ID",
            "title": "Device Entity Id"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Device name from config",
            "title": "Device Name"
          },
          "enable_ota": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "OTA update enabled",
            "title": "Enable Ota"
          },
          "id": {
            "description": "Config surrogate ID",
            "title": "Id",
            "type": "integer"
          },
          "mac_address": {
            "description": "Device MAC address (colon-separated)",
            "title": "Mac Address",
            "type": "string"
          },
          "updated_at": {
            "description": "Last update timestamp",
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "mac_address",
          "content",
          "created_at",
          "updated_at"
        ],
        "title": "ConfigResponseSchema",
        "type": "object"
      },
      "ConfigUpdateRequestSchema.6be28b6": {
        "description": "Request for PUT /api/configs/<id> (update existing config).",
        "properties": {
          "content": {
            "description": "JSON configuration content as string (stored verbatim)",
            "title": "Content",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "ConfigUpdateRequestSchema",
        "type": "object"
      },
      "ErrorResponseSchema.8c5cd6b": {
        "description": "Standard error response.",
        "properties": {
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Error code",
            "title": "Code"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Request correlation ID",
            "title": "Correlationid"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Additional error details",
            "title": "Details"
          },
          "error": {
            "description": "Error message",
            "title": "Error",
            "type": "string"
          }
        },
        "required": [
          "error"
        ],
        "title": "ErrorResponseSchema",
        "type": "object"
      },
      "ForceErrorQuerySchema.355d24f": {
        "description": "Query parameters for force-error endpoint.",
        "properties": {
          "status": {
            "description": "HTTP status code to return on next /api/auth/self request",
            "title": "Status",
            "type": "integer"
          }
        },
        "required": [
          "status"
        ],
        "title": "ForceErrorQuerySchema",
        "type": "object"
      },
      "LvglImageQuerySchema.bf1914b": {
        "additionalProperties": false,
        "description": "Query parameters for LVGL image proxy endpoint.",
        "properties": {
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Comma-separated list of header names to forward from the request",
            "examples": [
              "Authorization,X-API-Key"
            ],
            "title": "Headers"
          },
          "height": {
            "anyOf": [
              {
                "exclusiveMinimum": 0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Target height for resizing (downscale only, maintains aspect ratio)",
            "examples": [
              240
            ],
            "title": "Height"
          },
          "url": {
            "description": "URL of the image to fetch and convert",
            "examples": [
              "https://example.com/image.png"
            ],
            "format": "uri",
            "maxLength": 2083,
            "minLength": 1,
            "title": "Url",
            "type": "string"
          },
          "width": {
            "anyOf": [
              {
                "exclusiveMinimum": 0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "Target width for resizing (downscale only, maintains aspect ratio)",
            "examples": [
              240
            ],
            "title": "Width"
          }
        },
        "required": [
          "url"
        ],
        "title": "LvglImageQuerySchema",
        "type": "object"
      },
      "TestSessionCreateSchema.355d24f": {
        "description": "Request schema for creating a test authentication session.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject identifier (sub claim)",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject"
        ],
        "title": "TestSessionCreateSchema",
        "type": "object"
      },
      "TestSessionResponseSchema.355d24f": {
        "description": "Response schema for test session creation.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject identifier",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject",
          "roles"
        ],
        "title": "TestSessionResponseSchema",
        "type": "object"
      },
      "UserInfoResponseSchema.a535b8c": {
        "description": "Response schema for current user information.",
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User email address",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User display name",
            "title": "Name"
          },
          "roles": {
            "description": "User roles",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array"
          },
          "subject": {
            "description": "User subject (sub claim from JWT)",
            "title": "Subject",
            "type": "string"
          }
        },
        "required": [
          "subject",
          "email",
          "name",
          "roles"
        ],
        "title": "UserInfoResponseSchema",
        "type": "object"
      },
      "ValidationError.6a07bef": {
        "description": "Model of a validation error response.",
        "items": {
          "$ref": "#/components/schemas/ValidationError.6a07bef.ValidationErrorElement"
        },
        "title": "ValidationError",
        "type": "array"
      },
      "ValidationError.6a07bef.ValidationErrorElement": {
        "description": "Model of a validation error response element.",
        "properties": {
          "ctx": {
            "title": "Error context",
            "type": "object"
          },
          "loc": {
            "items": {
              "type": "string"
            },
            "title": "Missing field name",
            "type": "array"
          },
          "msg": {
            "title": "Error message",
            "type": "string"
          },
          "type": {
            "title": "Error type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationErrorElement",
        "type": "object"
      }
    }
  },
  "info": {
    "description": "REST API for managing ESP32 IoT device configurations",
    "title": "IoT Support API",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/assets": {
      "post": {
        "description": "Expects multipart/form-data with: - file: Binary file data - timestamp: ISO 8601 timestamp string - signature: Base64-encoded RSA signature of timestamp\n\nReturns:     200: Upload successful with file metadata     400: Validation error (missing fields, invalid filename, timestamp, or signature)     500: Server error (filesystem write failure)",
        "operationId": "post__api_assets",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetUploadResponseSchema.765868d"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Internal Server Error"
          }
        },
        "summary": "Upload asset file with cryptographic signature verification.",
        "tags": []
      }
    },
    "/api/assets/{filename}": {
      "get": {
        "description": "This endpoint serves binary firmware files directly to devices. Validates filename to prevent path traversal attacks.",
        "operationId": "get__api_assets_{filename}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "Serve raw asset file for ESP32 device consumption.",
        "tags": []
      }
    },
    "/api/auth/callback": {
      "get": {
        "description": "Exchanges authorization code for tokens and sets access token cookie.\n\nQuery Parameters:     code: Authorization code from OIDC provider     state: CSRF token from OIDC provider\n\nReturns:     302: Redirect to original redirect URL with access token cookie set     400: Invalid or missing callback parameters     401: Token exchange failed",
        "operationId": "get__api_auth_callback",
        "parameters": [],
        "responses": {},
        "summary": "Handle OIDC callback after user authorization.",
        "tags": []
      }
    },
    "/api/auth/login": {
      "get": {
        "description": "Generates authorization URL and redirects to OIDC provider. Stores PKCE state in signed cookie.\n\nQuery Parameters:     redirect: URL to redirect to after successful login (required)\n\nReturns:     302: Redirect to OIDC provider authorization endpoint     400: Missing or invalid redirect parameter",
        "operationId": "get__api_auth_login",
        "parameters": [],
        "responses": {},
        "summary": "Initiate OIDC login flow with PKCE.",
        "tags": []
      }
    },
    "/api/auth/logout": {
      "get": {
        "description": "Clears access token cookie and redirects to OIDC provider's logout endpoint to terminate the session at the IdP level.\n\nQuery Parameters:     redirect: URL to redirect to after logout (default: /)\n\nReturns:     302: Redirect to OIDC logout endpoint (or direct redirect if OIDC disabled)",
        "operationId": "get__api_auth_logout",
        "parameters": [],
        "responses": {},
        "summary": "Log out current user.",
        "tags": []
      }
    },
    "/api/auth/self": {
      "get": {
        "description": "Returns user information from the validated JWT token in the cookie.\n\nThis endpoint is marked @public because it handles authentication explicitly - it returns 401 if not authenticated rather than relying on the before_request hook.\n\nReturns:     200: User information from validated token     401: No valid token provided or token invalid",
        "operationId": "get__api_auth_self",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfoResponseSchema.a535b8c"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Get current authenticated user information.",
        "tags": []
      }
    },
    "/api/configs": {
      "get": {
        "description": "",
        "operationId": "get__api_configs",
        "parameters": [],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigListResponseSchema.6be28b6"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "List all configurations with summary data.",
        "tags": []
      },
      "post": {
        "description": "",
        "operationId": "post__api_configs",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigCreateRequestSchema.6be28b6"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponseSchema.6be28b6"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "409": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Conflict"
          }
        },
        "summary": "Create a new configuration.",
        "tags": []
      }
    },
    "/api/configs/{config_id}": {
      "delete": {
        "description": "",
        "operationId": "delete__api_configs_{config_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "config_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Delete configuration by ID.",
        "tags": []
      },
      "get": {
        "description": "",
        "operationId": "get__api_configs_{config_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "config_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponseSchema.6be28b6"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Get single configuration by ID.",
        "tags": []
      },
      "put": {
        "description": "",
        "operationId": "put__api_configs_{config_id}",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "config_id",
            "required": true,
            "schema": {
              "format": "int32",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigUpdateRequestSchema.6be28b6"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponseSchema.6be28b6"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Not Found"
          }
        },
        "summary": "Update configuration by ID.",
        "tags": []
      }
    },
    "/api/configs/{mac_address}.json": {
      "get": {
        "description": "This endpoint returns the raw config content without wrapping, suitable for direct consumption by ESP32 devices. Accepts both colon-separated and dash-separated MAC formats.",
        "operationId": "get__api_configs_{mac_address}.json",
        "parameters": [
          {
            "description": "",
            "in": "path",
            "name": "mac_address",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {},
        "summary": "Get raw JSON configuration for ESP32 device consumption.",
        "tags": []
      }
    },
    "/api/health": {
      "get": {
        "description": "Returns 200 when database is accessible. Returns 503 when database is not accessible.",
        "operationId": "get__api_health",
        "parameters": [],
        "responses": {},
        "summary": "Health check endpoint for Kubernetes probes.",
        "tags": []
      }
    },
    "/api/images/lvgl": {
      "get": {
        "description": "Query Parameters:     url: URL of the image to fetch     headers: Comma-separated list of header names to forward     width: Target width for resizing (optional, downscale only)     height: Target height for resizing (optional, downscale only)\n\nReturns:     Binary LVGL image data with Cache-Control: no-store header",
        "operationId": "get__api_images_lvgl",
        "parameters": [
          {
            "description": "URL of the image to fetch and convert",
            "in": "query",
            "name": "url",
            "required": true,
            "schema": {
              "description": "URL of the image to fetch and convert",
              "examples": [
                "https://example.com/image.png"
              ],
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "title": "Url",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated list of header names to forward from the request",
            "in": "query",
            "name": "headers",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Comma-separated list of header names to forward from the request",
              "examples": [
                "Authorization,X-API-Key"
              ],
              "title": "Headers"
            }
          },
          {
            "description": "Target width for resizing (downscale only, maintains aspect ratio)",
            "in": "query",
            "name": "width",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "exclusiveMinimum": 0,
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Target width for resizing (downscale only, maintains aspect ratio)",
              "examples": [
                240
              ],
              "title": "Width"
            }
          },
          {
            "description": "Target height for resizing (downscale only, maintains aspect ratio)",
            "in": "query",
            "name": "height",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "exclusiveMinimum": 0,
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Target height for resizing (downscale only, maintains aspect ratio)",
              "examples": [
                240
              ],
              "title": "Height"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "502": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseSchema.8c5cd6b"
                }
              }
            },
            "description": "Bad Gateway"
          }
        },
        "summary": "Fetch and convert an image to LVGL binary format.",
        "tags": []
      }
    },
    "/api/testing/auth/clear": {
      "post": {
        "description": "Returns:     204: Session cleared successfully with cookie invalidated",
        "operationId": "post__api_testing_auth_clear",
        "parameters": [],
        "responses": {},
        "summary": "Clear the current test session for test isolation.",
        "tags": []
      }
    },
    "/api/testing/auth/force-error": {
      "post": {
        "description": "This is a single-shot error - subsequent requests will behave normally.\n\nQuery Parameters:     status: HTTP status code to return (e.g., 500, 503)\n\nReturns:     204: Error configured successfully",
        "operationId": "post__api_testing_auth_force-error",
        "parameters": [
          {
            "description": "HTTP status code to return on next /api/auth/self request",
            "in": "query",
            "name": "status",
            "required": true,
            "schema": {
              "description": "HTTP status code to return on next /api/auth/self request",
              "title": "Status",
              "type": "integer"
            }
          }
        ],
        "responses": {},
        "summary": "Configure /api/auth/self to return an error on the next request.",
        "tags": []
      }
    },
    "/api/testing/auth/session": {
      "post": {
        "description": "This endpoint creates a test session with controllable user fields and sets the same session cookie that the real OIDC callback would set.\n\nRequest Body:     subject: User subject identifier (required)     name: User display name (optional)     email: User email address (optional)     roles: User roles (optional, defaults to empty list)\n\nReturns:     201: Session created successfully with session cookie set",
        "operationId": "post__api_testing_auth_session",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestSessionCreateSchema.355d24f"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestSessionResponseSchema.355d24f"
                }
              }
            },
            "description": "Created"
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError.6a07bef"
                }
              }
            },
            "description": "Bad Request"
          }
        },
        "summary": "Create an authenticated test session, bypassing the real OIDC flow.",
        "tags": []
      }
    },
    "/metrics": {
      "get": {
        "description": "Returns:     Response with metrics data in Prometheus exposition format",
        "operationId": "get__metrics",
        "parameters": [],
        "responses": {},
        "summary": "Return metrics in Prometheus text format.",
        "tags": []
      }
    }
  },
  "security": [],
  "tags": []
}